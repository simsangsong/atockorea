// ============================================
// Add Jeju: Private Car Charter Tour (15% Discount)
// ============================================
// This script creates a private tour via API
// Run this in browser console after logging in as admin

(async () => {
  // localStorageμ—μ„ ν† ν° κ°€μ Έμ¤κΈ°
  let token = null;
  for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    if (key && key.includes('auth-token')) {
      try {
        const data = JSON.parse(localStorage.getItem(key));
        token = data?.access_token || data?.accessToken || data?.session?.access_token;
        if (token) break;
      } catch (e) {}
    }
  }
  
  if (!token) {
    console.error('β μΈμ¦ ν† ν°μ„ μ°Ύμ„ μ μ—†μµλ‹λ‹¤. /adminμ—μ„ λ΅κ·ΈμΈν•μ„Έμ”.');
    return;
  }
  
  // κ°€κ²© κ³„μ‚°: μ›λ κ°€κ²© β‚©117,875 (1μΈλ‹Ή), 15% ν• μΈ
  const originalPrice = 117875;
  const discountedPrice = Math.round(originalPrice * 0.85); // β‚©100,194 β†’ β‚©100,200
  
  const tourData = {
    // ===== ν•„μ ν•„λ“ =====
    title: "μ μ£Ό ν”„λΌμ΄λΉ— μ „μ©μ°¨ ν¬μ–΄ (κΈ°μ‚¬-κ°€μ΄λ“ ν¬ν•¨)",
    slug: "jeju-private-car-charter-tour",
    city: "Jeju",
    price: discountedPrice,
    price_type: "person",
    image_url: "/images/tours/jeju-private-car-tour-cover.png",
    
    // ===== μ„ νƒ ν•„λ“ =====
    tag: "Private Tour",
    subtitle: "Customized Experience",
    description: "μ μ£Όλ„ μµκ³ μ λ…μ†λ“¤μ„ ν”„λΌμ΄λΉ— ν¬μ–΄λ΅ νƒλ°©ν•μ„Έμ”. μ „λ¬Έ κΈ°μ‚¬-κ°€μ΄λ“μ™€ ν•¨κ» νΈμ•ν• μ „μ©μ°¨λ΅ μ›ν•μ‹λ” μ¥μ†λ¥Ό μμ λ΅­κ² λ°©λ¬Έν•  μ μμµλ‹λ‹¤. λ§μ¶¤ν• μΌμ •μΌλ΅ μ μ£Όλ§μ νΉλ³„ν• κ²½ν—μ„ μ¦κΈ°μ„Έμ”.",
    original_price: originalPrice,
    duration: "9 hours",
    lunch_included: false,
    ticket_included: false,
    
    gallery_images: [
      "/images/tours/jeju-private-car-tour-cover.png",
      "/images/tours/jeju-private-tour-waterfall.png",
      "/images/tours/jeju-private-tour-people.png",
      "/images/tours/jeju-private-tour-coast.png",
      "/images/tours/jeju-private-tour-road.png",
      "/images/tours/jeju-private-tour-coastal-view.png"
    ],
    
    pickup_info: "νΈν…” λ΅λΉ„μ—μ„ ν¬μ–΄ μ‹μ‘ 10λ¶„ μ „μ— λ€κΈ°ν•΄ μ£Όμ„Έμ”. μ μ£Όμ‹ λ‚΄ λ„μ‹¬ μ§€μ—­(μ μ£Όκ³µν•­μ—μ„ 6km μ΄λ‚΄, μ: λ…Έν•λ™, μ—°λ™) ν”½μ—…μ€ κΈ°λ³Έ κ°€κ²©μ— ν¬ν•¨λ©λ‹λ‹¤. μ μ£Όμ‹ μ™Έκ³½ μ§€μ—­(μ„κ·€ν¬, μ• μ›”, ν•λ¦Ό, μ„±μ‚°, ν•κ²½, μ΅°μ², ν‘μ„ , λ‚¨μ›, μ•λ•, λ€μ • λ“±) ν”½μ—…μ€ μ¶”κ°€ μ”κΈμ΄ λ°μƒν•  μ μμµλ‹λ‹¤. κ³µν•­ ν”½μ—… λ° λ“λ΅­μ¤ν”„ μ„λΉ„μ¤κ°€ ν•„μ”ν• κ²½μ° μμ•½ μ‹ μ•λ ¤μ£Όμ‹λ©΄ λ¬΄λ£λ΅ μ κ³µλ©λ‹λ‹¤. μ •ν™•ν• μΉκ° μμ™€ μ§ κ°μλ¥Ό μμ•½ μ‹ μ•λ ¤μ£Όμ„Έμ”.",
    
    notes: "μ΄ ν¬μ–΄λ” λ§μ¶¤ν• ν”„λΌμ΄λΉ— ν¬μ–΄μ…λ‹λ‹¤. μ›ν•μ‹λ” μ¥μ†λ¥Ό λ°©λ¬Έν•  μ μμΌλ©°, μ‹κ°„λ„ μμ λ΅­κ² μ΅°μ • κ°€λ¥ν•©λ‹λ‹¤. 9μ‹κ°„μ„ μ΄κ³Όν•μ—¬ μ°¨λ‰μ„ μ‚¬μ©ν•λ” κ²½μ° μ‹κ°„λ‹Ή 25,000μ›μ μ¶”κ°€ μ”κΈμ΄ λ°μƒν•λ©°, ν„κΈμΌλ΅ κΈ°μ‚¬μ—κ² μ§μ ‘ μ§€λ¶ν•μ‹λ©΄ λ©λ‹λ‹¤. ν¨μ¨μ μΈ μ‹κ°„ ν™μ©μ„ μ„ν•΄ ν•λ£¨ λ™μ• ν• μ§€μ—­(λ™λ¶€/μ„λ¶€/λ‚¨λ¶€ μ¤‘ μ„ νƒ)λ§ λ°©λ¬Έν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤. μ—¬λ¬ μ§€μ—­μ„ ν•λ£¨μ— λ°©λ¬Έν•λ” κ²½μ° μ „μΌ μ£Όν–‰ μ¶”κ°€ λΉ„μ© 60,000μ›μ΄ λ°μƒν•©λ‹λ‹¤. ν¬μ–΄ μ „λ‚  μ €λ… 8μ‹κΉμ§€ WhatsAppμΌλ΅ μ—°λ½μ΄ μ—†μΌλ©΄ μ €ν¬μ—κ² μ—°λ½ν•΄ μ£Όμ„Έμ”. WhatsApp λ²νΈλ¥Ό λ‚¨κ²¨μ£Όμ‹λ©΄ ν¬μ–΄ μ§„ν–‰μ΄ λ” μ›ν™ν•©λ‹λ‹¤. λ¬΄λ£ μ·¨μ†: ν¬μ–΄ μ‹μ‘ 24μ‹κ°„ μ „κΉμ§€ μ·¨μ† κ°€λ¥ μ‹ μ „μ•΅ ν™λ¶λ©λ‹λ‹¤.",
    
    highlights: [
      "κ·Έλ£Ή ν¬μ–΄μ—μ„ λλ‚„ μ μ—†λ” νΈμ•ν•κ³  ν”„λΌμ΄λΉ—ν• κ²½ν—",
      "10λ…„ μ΄μƒ κ²½λ ¥μ μ „λ¬Έ κΈ°μ‚¬-κ°€μ΄λ“κ°€ ν•¨κ»ν•©λ‹λ‹¤",
      "νΈν…” ν”½μ—… λ° λ“λ΅­μ¤ν”„ μ„λΉ„μ¤λ΅ κµν†µ κ±±μ • μ—†μ΄ μ¦κΈ°μ„Έμ”",
      "μ μ£Ό μ λ„¤μ¤μ½” λ…μ†μ™€ μ¨κ²¨μ§„ λ…μ†λ¥Ό μ‰½κ² λ°©λ¬Έν•μ„Έμ”",
      "λ‚λ§μ λ§μ¶¤ν• μΌμ •μΌλ΅ μ›ν•λ” μ¥μ†λ¥Ό μμ λ΅­κ² μ„ νƒ κ°€λ¥"
    ],
    
    includes: [
      "νΈν…” ν”½μ—… λ° λ“λ΅­μ¤ν”„",
      "ν”„λΌμ΄λΉ— μ „μ©μ°¨λ‰ (μ—μ–΄μ»¨, λ„“μ€ κ³µκ°„)",
      "μ¤‘κµ­μ–΄/μμ–΄ κ°€λ¥ν• μ „λ¬Έ κΈ°μ‚¬-κ°€μ΄λ“",
      "μ—°λ£λΉ„",
      "ν†µν–‰λ£",
      "μ£Όμ°¨λΉ„",
      "μ„ΈκΈ",
      "κ³µν•­ ν”½μ—… λ° λ“λ΅­μ¤ν”„ (ν¬μ–΄ λ‹ΉμΌ, λ¬΄λ£)"
    ],
    
    excludes: [
      "κ΄€κ΄‘μ§€ μ…μ¥λ£",
      "μ‹μ‚¬ λ° μλ£",
      "ν",
      "κ°μΈ μ—¬ν–‰ λ³΄ν—"
    ],
    
    schedule: [
      {
        time: "09:00",
        title: "νΈν…” ν”½μ—…",
        description: "νΈν…” λ΅λΉ„μ—μ„ ν¬μ–΄ μ‹μ‘ 10λ¶„ μ „ λ€κΈ°. ν¬μ–΄ μ‹κ°„μ€ κ³ κ° μ”μ²­μ— λ”°λΌ μ΅°μ • κ°€λ¥ν•©λ‹λ‹¤."
      },
      {
        time: "09:00-18:00",
        title: "λ§μ¶¤ν• ν¬μ–΄ (μ„ νƒ κ°€λ¥ν• μ½”μ¤)",
        description: "λ™λ¶€ μ½”μ¤: μ°λ„, μ„±μ‚°μΌμ¶λ΄‰, μ„­μ§€μ½”μ§€, λ§μ¥κµ΄, ν•΄λ…€μ΄, μΉ΄λ©λ¦¬μ•„ν λ“± / μ„λ¶€ μ½”μ¤: μ• μ›”ν•΄μ•λ„λ΅, ν‘μ¬ν•΄λ³€, ν•λ‹΄ν•΄λ³€, ν‘μ¬μΉ΄νκ±°λ¦¬, μ¤μ„¤λ΅, ν—λΈλ™μ‚° λ“± / λ‚¨λ¶€ μ½”μ¤: μ²μ§€μ—°ν­ν¬, μ •λ°©ν­ν¬, μ£Όμƒμ λ¦¬λ€, μ‚°λ°©μ‚°, ν•λΌμ‚° λ“±"
      },
      {
        time: "13:00",
        title: "μ μ‹¬ μ‹μ‚¬ (μ„ νƒμ‚¬ν•­)",
        description: "λ΅μ»¬ λ μ¤ν† λ‘μ—μ„ μ μ£Ό νΉμ‚°ν’μ„ μ¦κΈ°μ‹¤ μ μμµλ‹λ‹¤. μ‹μ‚¬ λΉ„μ©μ€ λ³„λ„μ…λ‹λ‹¤."
      },
      {
        time: "18:00",
        title: "νΈν…” λ“λ΅­μ¤ν”„",
        description: "ν¬μ–΄ μΆ…λ£ ν›„ νΈν…”λ΅ μ•μ „ν•κ² λ“λ΅­μ¤ν”„λ©λ‹λ‹¤."
      }
    ],
    
    faqs: [
      {
        question: "ν”„λΌμ΄λΉ— ν¬μ–΄μ μ¥μ μ€ λ¬΄μ—‡μΈκ°€μ”?",
        answer: "κ·Έλ£Ή ν¬μ–΄μ™€ λ‹¬λ¦¬ λ³ΈμΈλ§μ μΌμ •μΌλ΅ μμ λ΅­κ² μ—¬ν–‰ν•  μ μμΌλ©°, μ›ν•λ” μ¥μ†μ— μ¶©λ¶„ν• μ‹κ°„μ„ ν¬μν•  μ μμµλ‹λ‹¤. μ „λ¬Έ κΈ°μ‚¬-κ°€μ΄λ“κ°€ μ•λ‚΄ν•λ―€λ΅ κµν†µμ΄λ‚ κΈΈ μ°ΎκΈ° κ±±μ • μ—†μ΄ νΈμ•ν•κ² μ μ£Όλ¥Ό μ¦κΈ°μ‹¤ μ μμµλ‹λ‹¤."
      },
      {
        question: "ν¬μ–΄ μ‹κ°„μ„ λ³€κ²½ν•  μ μλ‚μ”?",
        answer: "λ„¤, ν¬μ–΄ μ‹μ‘ μ‹κ°„μ€ κ³ κ°μ μ”μ²­μ— λ”°λΌ μ΅°μ • κ°€λ¥ν•©λ‹λ‹¤. μμ•½ μ‹ μ›ν•μ‹λ” μ‹κ°„μ„ μ•λ ¤μ£Όμ„Έμ”."
      },
      {
        question: "μ–΄λ–¤ μ§€μ—­μ„ λ°©λ¬Έν•  μ μλ‚μ”?",
        answer: "λ™λ¶€, μ„λ¶€, λ‚¨λ¶€ λ“± μ μ£Ό μ „μ—­μ„ λ°©λ¬Έν•  μ μμµλ‹λ‹¤. ν¨μ¨μ μΈ μ‹κ°„ ν™μ©μ„ μ„ν•΄ ν•λ£¨μ— ν• μ§€μ—­(λ™λ¶€/μ„λ¶€/λ‚¨λ¶€ μ¤‘ μ„ νƒ)λ§ λ°©λ¬Έν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤."
      },
      {
        question: "9μ‹κ°„μ„ μ΄κ³Όν•λ©΄ μ–΄λ–»κ² λλ‚μ”?",
        answer: "9μ‹κ°„μ„ μ΄κ³Όν•μ—¬ μ°¨λ‰μ„ μ‚¬μ©ν•λ” κ²½μ° μ‹κ°„λ‹Ή 25,000μ›μ μ¶”κ°€ μ”κΈμ΄ λ°μƒν•©λ‹λ‹¤. ν„κΈμΌλ΅ κΈ°μ‚¬μ—κ² μ§μ ‘ μ§€λ¶ν•μ‹λ©΄ λ©λ‹λ‹¤."
      },
      {
        question: "μ—¬λ¬ μ§€μ—­μ„ ν•λ£¨μ— λ°©λ¬Έν•  μ μλ‚μ”?",
        answer: "κ°€λ¥ν•μ§€λ§, μ‹κ°„μ΄ λ§μ΄ μ†μ”λ©λ‹λ‹¤. μ—¬λ¬ μ§€μ—­μ„ ν•λ£¨μ— λ°©λ¬Έν•λ” κ²½μ° μ „μΌ μ£Όν–‰ μ¶”κ°€ λΉ„μ© 60,000μ›μ΄ λ°μƒν•©λ‹λ‹¤."
      },
      {
        question: "κ³µν•­ ν”½μ—…μ΄ κ°€λ¥ν•κ°€μ”?",
        answer: "λ„¤, ν¬μ–΄ λ‹ΉμΌ κ³µν•­ ν”½μ—… λ° λ“λ΅­μ¤ν”„ μ„λΉ„μ¤λ¥Ό λ¬΄λ£λ΅ μ κ³µν•©λ‹λ‹¤. μμ•½ μ‹ μ•λ ¤μ£Όμ‹λ©΄ λ©λ‹λ‹¤."
      },
      {
        question: "μ·¨μ† μ •μ±…μ€ μ–΄λ–»κ² λλ‚μ”?",
        answer: "ν¬μ–΄ μ‹μ‘ 24μ‹κ°„ μ „κΉμ§€ μ·¨μ†ν•μ‹λ©΄ μ „μ•΅ ν™λ¶λ©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, 1μ›” 1μΌ 09:00 ν¬μ–΄μΈ κ²½μ° 12μ›” 31μΌ 09:00 μ΄μ „μ— μ·¨μ†ν•μ‹λ©΄ μ „μ•΅ ν™λ¶λ©λ‹λ‹¤."
      },
      {
        question: "μμ•½ ν›„ μ–Έμ  μ—°λ½μ„ λ°›λ‚μ”?",
        answer: "ν¬μ–΄ μ „λ‚  μ €λ… 8μ‹κΉμ§€ WhatsAppμΌλ΅ μ—°λ½μ„ λ“λ¦½λ‹λ‹¤. μ—°λ½μ΄ μ—†μΌλ©΄ μ €ν¬μ—κ² μ§μ ‘ μ—°λ½ν•΄ μ£Όμ„Έμ”. WhatsApp λ²νΈλ¥Ό λ‚¨κ²¨μ£Όμ‹λ©΄ λ” μ›ν™ν• μ†ν†µμ΄ κ°€λ¥ν•©λ‹λ‹¤."
      },
      {
        question: "μ…μ¥λ£μ™€ μ‹μ‚¬λ” ν¬ν•¨λμ–΄ μλ‚μ”?",
        answer: "μ…μ¥λ£μ™€ μ‹μ‚¬λ” ν¬ν•¨λμ–΄ μμ§€ μ•μµλ‹λ‹¤. κ΄€κ΄‘μ§€ μ…μ¥λ£μ™€ μ‹μ‚¬ λΉ„μ©μ€ λ³„λ„λ΅ μ§€λ¶ν•μ…”μ•Ό ν•©λ‹λ‹¤."
      },
      {
        question: "μ μ£Όμ‹ μ™Έκ³½ μ§€μ—­μ—μ„ ν”½μ—…μ΄ κ°€λ¥ν•κ°€μ”?",
        answer: "κ°€λ¥ν•©λ‹λ‹¤. μ μ£Όμ‹ μ™Έκ³½ μ§€μ—­(μ„κ·€ν¬, μ• μ›”, ν•λ¦Ό, μ„±μ‚° λ“±)μ—μ„ ν”½μ—…ν•λ” κ²½μ° μ¶”κ°€ μ”κΈμ΄ λ°μƒν•  μ μμµλ‹λ‹¤. μμ•½ μ‹ ν”½μ—… μ¥μ†λ¥Ό μ•λ ¤μ£Όμ‹λ©΄ μ •ν™•ν• κ°€κ²©μ„ μ•λ‚΄ν•΄ λ“λ¦½λ‹λ‹¤."
      }
    ],
    
    pickup_points: [
      {
        name: "μ μ£Όμ‹ λ‚΄ λ„μ‹¬ μ§€μ—­ (κΈ°λ³Έ)",
        address: "μ μ£Όκ³µν•­μ—μ„ 6km μ΄λ‚΄ μ§€μ—­ (λ…Έν•λ™, μ—°λ™ λ“±)",
        lat: 33.4996,
        lng: 126.5312,
        pickup_time: "09:00"
      },
      {
        name: "μ μ£Όμ‹ μ™Έκ³½ μ§€μ—­ (μ¶”κ°€ μ”κΈ)",
        address: "μ„κ·€ν¬, μ• μ›”, ν•λ¦Ό, μ„±μ‚°, ν•κ²½, μ΅°μ², ν‘μ„ , λ‚¨μ›, μ•λ•, λ€μ • λ“±",
        lat: 33.2500,
        lng: 126.5600,
        pickup_time: "09:00"
      }
    ],
    
    rating: 4.8,
    review_count: 154,
    pickup_points_count: 2,
    dropoff_points_count: 1,
    is_active: true,
    is_featured: true
  };
  
  console.log('π€ ν”„λΌμ΄λΉ— ν¬μ–΄ μ¶”κ°€ μ‹μ‘...');
  console.log('π“¦ ν¬μ–΄ μ λ©:', tourData.title);
  console.log('π·οΈ  Slug:', tourData.slug);
  console.log('π’° μ›λ κ°€κ²©:', originalPrice.toLocaleString(), 'μ› (1μΈλ‹Ή)');
  console.log('π’° ν• μΈλ κ°€κ²©:', discountedPrice.toLocaleString(), 'μ› (1μΈλ‹Ή, 15% ν• μΈ)');
  
  try {
    const headers = {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`,
    };
    
    console.log('β… Authorization ν—¤λ” μ„¤μ • μ™„λ£');
    
    const response = await fetch('/api/admin/tours', {
      method: 'POST',
      headers: headers,
      credentials: 'include',
      body: JSON.stringify(tourData)
    });
    
    const result = await response.json();
    
    console.log('π“΅ μ‘λ‹µ μƒνƒ:', response.status, response.statusText);
    
    if (!response.ok) {
      console.error('β ν¬μ–΄ μƒμ„± μ‹¤ν¨');
      console.error('μ—λ¬:', result.error || result.message);
      console.error('μ „μ²΄ μ‘λ‹µ:', result);
      throw new Error(result.error || 'ν¬μ–΄ μƒμ„± μ‹¤ν¨');
    }
    
    console.log('β… ν¬μ–΄ μƒμ„± μ„±κ³µ!');
    console.log('π“‹ μƒμ„±λ ν¬μ–΄ ID:', result.data?.id);
    console.log('π”— ν¬μ–΄ λ§ν¬:', `/tour/${result.data?.slug || result.data?.id}`);
    console.log('π“ μƒμ„±λ ν¬μ–΄ μ •λ³΄:', result.data);
    
    return result.data;
    
  } catch (error) {
    console.error('β μ—λ¬ λ°μƒ:', error);
    throw error;
  }
})();

