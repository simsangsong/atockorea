# å®Œæ•´è®¾ç½®æŒ‡å—
## Complete Setup Instructions

### ğŸ“‹ å¾…å®Œæˆä»»åŠ¡æ¸…å•

#### âœ… å·²å®Œæˆï¼ˆä»£ç å±‚é¢ï¼‰
- âœ… åˆ›å»ºè¯„ä»· API ç«¯ç‚¹
- âœ… åˆ›å»ºç…§ç‰‡ä¸Šä¼  API ç«¯ç‚¹
- âœ… åˆ›å»ºè¯„ä»·è¡¨å•ç»„ä»¶
- âœ… åˆ›å»ºè¯„ä»·åˆ—è¡¨ç»„ä»¶
- âœ… é›†æˆè¯„ä»·åŠŸèƒ½åˆ°è¯¦ç»†é¡µé¢
- âœ… åˆ›å»º review_reactions å’Œ review_reports æ•°æ®è¡¨
- âœ… æ›´æ–° reviews è¡¨æ·»åŠ åŒ¿åå’Œç»Ÿè®¡å­—æ®µ
- âœ… åˆ›å»ºååº”å’Œä¸¾æŠ¥ API ç«¯ç‚¹
- âœ… æ›´æ–° ReviewForm æ·»åŠ åŒ¿åé€‰é¡¹
- âœ… æ›´æ–° ReviewList æ·»åŠ ååº”æŒ‰é’®å’Œæ’åº
- âœ… åˆ›å»ºæ€»å°ä¸¾æŠ¥ç®¡ç†é¡µé¢
- âœ… ä¿®å¤æ„å»ºé”™è¯¯ï¼ˆcreateClient â†’ createServerClientï¼‰

#### âš ï¸ éœ€è¦æ‰‹åŠ¨æ‰§è¡Œï¼ˆSupabase Dashboardï¼‰

### æ­¥éª¤ 1: åˆ›å»º Review Photos Storage Bucket

1. **è¿›å…¥ Supabase Dashboard**
   - è®¿é—®ä½ çš„ Supabase é¡¹ç›®
   - ç‚¹å‡»å·¦ä¾§èœå• **Storage**

2. **åˆ›å»º Bucket**
   - ç‚¹å‡» **"Create bucket"** æŒ‰é’®
   - å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š
     - **Name**: `review-photos`
     - **Public bucket**: âœ… **å‹¾é€‰**ï¼ˆå…è®¸å…¬å¼€è®¿é—®ï¼‰
     - **File size limit**: `5MB`
     - **Allowed MIME types**: `image/*`
   - ç‚¹å‡» **"Create bucket"**

### æ­¥éª¤ 2: è®¾ç½® Storage æƒé™ç­–ç•¥

1. **è¿›å…¥ SQL Editor**
   - åœ¨ Supabase Dashboard ä¸­ç‚¹å‡»å·¦ä¾§èœå• **SQL Editor**
   - ç‚¹å‡» **"New query"**

2. **æ‰§è¡Œ Storage æƒé™è„šæœ¬**
   - å¤åˆ¶ `supabase/setup-review-storage.sql` æ–‡ä»¶ä¸­çš„ SQL ä»£ç 
   - ç²˜è´´åˆ° SQL Editor
   - ç‚¹å‡» **"Run"** æˆ–æŒ‰ `Ctrl+Enter`

### æ­¥éª¤ 3: æ‰§è¡Œ Review Reactions Schema

1. **åœ¨ SQL Editor ä¸­æ‰§è¡Œ**
   - æ‰“å¼€ `supabase/review-reactions-schema.sql` æ–‡ä»¶
   - å¤åˆ¶æ‰€æœ‰ SQL ä»£ç 
   - åœ¨ Supabase SQL Editor ä¸­ç²˜è´´
   - ç‚¹å‡» **"Run"** æ‰§è¡Œ

è¿™å°†åˆ›å»ºï¼š
- âœ… `review_reactions` è¡¨
- âœ… `review_reports` è¡¨
- âœ… æ›´æ–° `reviews` è¡¨ï¼ˆæ·»åŠ æ–°å­—æ®µï¼‰
- âœ… åˆ›å»ºè§¦å‘å™¨
- âœ… åˆ›å»ºè§†å›¾
- âœ… è®¾ç½® RLS ç­–ç•¥

### æ­¥éª¤ 4: éªŒè¯è®¾ç½®

#### éªŒè¯ Storage Bucket
1. è¿›å…¥ **Storage** â†’ **review-photos**
2. ç¡®è®¤ bucket å­˜åœ¨ä¸”ä¸ºå…¬å¼€çŠ¶æ€

#### éªŒè¯æ•°æ®åº“è¡¨
1. è¿›å…¥ **Table Editor**
2. ç¡®è®¤ä»¥ä¸‹è¡¨å­˜åœ¨ï¼š
   - âœ… `review_reactions`
   - âœ… `review_reports`
   - âœ… `reviews` è¡¨åŒ…å«æ–°å­—æ®µï¼š
     - `is_anonymous`
     - `like_count`
     - `dislike_count`

#### éªŒè¯æƒé™ç­–ç•¥
1. è¿›å…¥ **Authentication** â†’ **Policies**
2. ç¡®è®¤ä»¥ä¸‹ç­–ç•¥å­˜åœ¨ï¼š
   - `review_reactions` è¡¨çš„ RLS ç­–ç•¥
   - `review_reports` è¡¨çš„ RLS ç­–ç•¥
   - `storage.objects` çš„ Storage ç­–ç•¥

### ğŸ“ å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] Storage bucket `review-photos` å·²åˆ›å»º
- [ ] Storage æƒé™ç­–ç•¥å·²è®¾ç½®
- [ ] `review_reactions` è¡¨å·²åˆ›å»º
- [ ] `review_reports` è¡¨å·²åˆ›å»º
- [ ] `reviews` è¡¨å·²æ›´æ–°ï¼ˆæ–°å­—æ®µï¼‰
- [ ] è§¦å‘å™¨å·²åˆ›å»º
- [ ] è§†å›¾å·²åˆ›å»º
- [ ] RLS ç­–ç•¥å·²è®¾ç½®

### ğŸš€ å®Œæˆåçš„åŠŸèƒ½

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä»¥ä¸‹åŠŸèƒ½å°†å®Œå…¨å¯ç”¨ï¼š

1. **è¯„ä»·åŠŸèƒ½**
   - âœ… ç”¨æˆ·å¯ä»¥å†™è¯„ä»·
   - âœ… ç”¨æˆ·å¯ä»¥ä¸Šä¼ ç…§ç‰‡ï¼ˆæœ€å¤š5å¼ ï¼‰
   - âœ… ç”¨æˆ·å¯ä»¥é€‰æ‹©åŒ¿åè¯„ä»·

2. **è¯„ä»·äº’åŠ¨**
   - âœ… ç”¨æˆ·å¯ä»¥ç‚¹èµè¯„ä»·
   - âœ… ç”¨æˆ·å¯ä»¥ä¸æ¨èè¯„ä»·
   - âœ… ååº”æ•°é‡å®æ—¶æ›´æ–°

3. **ä¸¾æŠ¥åŠŸèƒ½**
   - âœ… ç”¨æˆ·å¯ä»¥ä¸¾æŠ¥ä¸å½“è¯„ä»·
   - âœ… ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹å’Œå¤„ç†ä¸¾æŠ¥

4. **æ’åºåŠŸèƒ½**
   - âœ… æŒ‰æœ€æ–°æ’åº
   - âœ… æŒ‰è¯„åˆ†æ’åº
   - âœ… æŒ‰ç‚¹èµé‡æ’åºï¼ˆæœ€å—æ¬¢è¿ï¼‰
   - âœ… æœ‰ç…§ç‰‡ä¼˜å…ˆ

### ğŸ“š ç›¸å…³æ–‡æ¡£

- `docs/REVIEW_PHOTOS_IMPLEMENTATION.md` - ç…§ç‰‡åŠŸèƒ½å®ç°æ–‡æ¡£
- `docs/REVIEW_REACTIONS_AND_REPORTS.md` - äº’åŠ¨å’Œä¸¾æŠ¥åŠŸèƒ½æ–‡æ¡£
- `docs/REVIEW_FEATURES_SETUP.md` - åŠŸèƒ½è®¾ç½®æŒ‡å—
- `supabase/review-reactions-schema.sql` - æ•°æ®åº“è¡¨ç»“æ„
- `supabase/setup-review-storage.sql` - Storage æƒé™è®¾ç½®

---

**æ³¨æ„**: æ‰€æœ‰ä»£ç å±‚é¢çš„å·¥ä½œå·²å®Œæˆã€‚åªéœ€è¦åœ¨ Supabase Dashboard ä¸­æ‰§è¡Œä¸Šè¿°æ‰‹åŠ¨æ­¥éª¤å³å¯ã€‚

